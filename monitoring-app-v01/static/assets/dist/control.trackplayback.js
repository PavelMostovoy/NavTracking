!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("leaflet"));else if("function"==typeof define&&define.amd)define(["leaflet"],e);else{var i="object"==typeof exports?e(require("leaflet")):e(t.L);for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(self,t=>(()=>{"use strict";var e={421:e=>{e.exports=t}},i={};function n(t){var o=i[t];if(void 0!==o)return o.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=n(421),r=n.n(o);const a=r().Control.extend({options:{position:"topright",showOptions:!0,showInfo:!0,showSlider:!0},initialize:function(t,e){r().Control.prototype.initialize.call(this,e),this.trackPlayBack=t,this.trackPlayBack.on("tick",this._tickCallback,this)},onAdd:function(t){return this._initContainer(),this._container},onRemove:function(t){this.trackPlayBack.dispose(),this.trackPlayBack.off("tick",this._tickCallback,this)},getTimeStrFromUnix:function(t,e="s"){t=parseInt(1e3*t);const i=new Date(t),n=i.getFullYear(),o=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,r=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),c=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),s=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();let h;return h="d"===e?n+"-"+o+"-"+r:"h"===e?n+"-"+o+"-"+r+" "+a:"m"===e?n+"-"+o+"-"+r+" "+a+":"+c:n+"-"+o+"-"+r+" "+a+":"+c+":"+s,h},_initContainer:function(){return this._container=r().DomUtil.create("div","leaflet-control-playback"),r().DomEvent.disableClickPropagation(this._container),this._optionsContainer=this._createContainer("optionsContainer",this._container),this._infoContainer=this._createContainer("infoContainer",this._container),this._sliderContainer=this._createContainer("sliderContainer",this._container),this._pointCbx=this._createCheckbox("show trackPoint","show-trackpoint",this._optionsContainer,this._showTrackPoint),this._lineCbx=this._createCheckbox("show trackLine","show-trackLine",this._optionsContainer,this._showTrackLine),this._infoStartTime=this._createInfo("startTime: ",this.getTimeStrFromUnix(this.trackPlayBack.getStartTime()),"info-start-time",this._infoContainer),this._infoEndTime=this._createInfo("endTime: ",this.getTimeStrFromUnix(this.trackPlayBack.getEndTime()),"info-end-time",this._infoContainer),this._infoCurTime=this._createInfo("curTime: ",this.getTimeStrFromUnix(this.trackPlayBack.getCurTime()),"info-cur-time",this._infoContainer),this._slider=this._createSlider("time-slider",this._sliderContainer,this._scrollchange),this._container},_createContainer:function(t,e){return r().DomUtil.create("div",t,e)},_createCheckbox:function(t,e,i,n){const o=r().DomUtil.create("div",e+" trackplayback-checkbox",i),a=r().DomUtil.create("input","trackplayback-input",o),c=`trackplayback-input-${r().Util.stamp(a)}`;a.setAttribute("type","checkbox"),a.setAttribute("id",c);const s=r().DomUtil.create("label","trackplayback-label",o);return s.setAttribute("for",c),s.innerHTML=t,r().DomEvent.on(a,"change",n,this),o},_createInfo:function(t,e,i,n){const o=r().DomUtil.create("div","info-container",n);r().DomUtil.create("span","info-title",o).innerHTML=t;const a=r().DomUtil.create("span",i,o);return a.innerHTML=e,a},_createSlider:function(t,e,i){const n=r().DomUtil.create("input",t,e);return n.setAttribute("type","range"),n.setAttribute("min",this.trackPlayBack.getStartTime()),n.setAttribute("max",this.trackPlayBack.getEndTime()),n.setAttribute("value",this.trackPlayBack.getCurTime()),r().DomEvent.on(n,"click mousedown dbclick",r().DomEvent.stopPropagation).on(n,"click",r().DomEvent.preventDefault).on(n,"change",i,this).on(n,"mousemove",i,this),n},_showTrackPoint(t){t.target.checked?this.trackPlayBack.showTrackPoint():this.trackPlayBack.hideTrackPoint()},_showTrackLine(t){t.target.checked?this.trackPlayBack.showTrackLine():this.trackPlayBack.hideTrackLine()},_scrollchange:function(t){const e=Number(t.target.value);this.trackPlayBack.setCursor(e)},_tickCallback:function(t){const e=this.getTimeStrFromUnix(t.time);this._infoCurTime.innerHTML=e,this._slider.value=t.time,t.time>=this.trackPlayBack.getEndTime()&&this.trackPlayBack.stop()}});return r().TrackPlayBackControl=a,r().trackplaybackcontrol=function(t,e){return new a(t,e)},{}})());
//# sourceMappingURL=control.trackplayback.js.map